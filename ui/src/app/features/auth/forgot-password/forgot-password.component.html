<div class="forgot-page">
  <div class="forgot-card">
    <div class="forgot-header">
      <img class="logo-icon" src="assets/jobfetch-brand-icon.svg" alt="JobFetch icon" />
      <h1>Forgot password</h1>
      <p>Enter your email to receive a temporary password</p>
    </div>
    <div *ngIf="!success" class="forgot-form">
      <form (ngSubmit)="onSubmit()">
        <mat-form-field appearance="outline" class="full">
          <mat-label>Email</mat-label>
          <input matInput type="email" [(ngModel)]="email" name="email" placeholder="you@example.com" [disabled]="loading" />
        </mat-form-field>
        <p class="error-msg" *ngIf="error">{{ error }}</p>
        <button mat-raised-button color="primary" type="submit" class="submit-btn" [disabled]="loading">
          <mat-spinner *ngIf="loading" diameter="20" class="btn-spinner"></mat-spinner>
          <span *ngIf="!loading">Get temporary password</span>
        </button>
      </form>
    </div>
    <div *ngIf="success" class="success-box">
      <mat-icon>check_circle</mat-icon>
      <p class="success-msg">{{ tempPassword ? 'Your temporary password (expires in ' + expiresIn + ' minutes):' : 'Check your email for the temporary password.' }}</p>
      <div *ngIf="tempPassword" class="temp-pw">
        <code>{{ tempPassword }}</code>
      </div>
      <p class="success-hint">Log in with this password, then you'll be asked to set a new one.</p>
      <button mat-raised-button color="primary" (click)="goToLogin()">Go to login</button>
    </div>
    <p class="back-link">
      <a routerLink="/auth/login">Back to login</a>
    </p>
  </div>
  <p class="app-copyright">Â© 2026 Naveen Vemula. All rights reserved</p>
</div>
