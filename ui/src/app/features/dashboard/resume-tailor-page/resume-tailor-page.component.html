<div class="tailor-page">
  <div class="alert" *ngIf="alertVisible" [class.success]="alertType === 'success'" [class.error]="alertType === 'error'" [class.warning]="alertType === 'warning'">
    <span>{{ alertMessage }}</span>
    <button type="button" class="alert-close" (click)="closeAlert()" aria-label="Close alert">Ã—</button>
  </div>

  <div class="split">
    <div class="panel">
      <div class="panel-header">
        <h3>LaTeX</h3>
        <div class="panel-actions">
          <button class="pill-btn" mat-stroked-button (click)="downloadTex()" [disabled]="!latex">Download text</button>
          <button class="pill-btn" mat-stroked-button (click)="generateTailoredResume()" [disabled]="loading">Regenerate</button>
        </div>
      </div>
      <div #latexEditor class="latex-editor" [class.disabled]="loading"></div>
    </div>
    <div class="panel">
      <div class="panel-header">
        <h3>PDF Preview</h3>
        <div class="panel-actions">
          <button class="pill-btn" mat-stroked-button color="primary" (click)="renderPdf()" [disabled]="renderLoading || loading || !latex">
            Render pdf
          </button>
        </div>
      </div>
      <div class="state" *ngIf="loading || renderLoading">Rendering preview...</div>
      <iframe *ngIf="!loading && !renderLoading && pdfPreviewUrl" [src]="pdfPreviewUrl"></iframe>
      <div class="state" *ngIf="!loading && !renderLoading && !pdfPreviewUrl">Click Render PDF to preview.</div>
    </div>
  </div>
</div>
